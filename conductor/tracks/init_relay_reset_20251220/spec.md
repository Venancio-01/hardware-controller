# 需求规范：继电器状态初始化

## 1. 概述
该功能确保在应用程序启动时，立即将柜体端（Cabinet）和控制端（Control/Console）的所有继电器通道重置为已知安全状态（断开/0）。这可以防止之前运行周期残留的状态影响当前的业务逻辑。

## 2. 功能需求

### 2.1 初始化时机
- **触发条件**：初始化逻辑必须在应用程序启动序列（`BusinessLogicManager.initialize`）中自动执行。
- **执行时机**：必须在 `HardwareCommunicationManager` 成功建立网络绑定/连接**之后**，且在启动主查询循环（Polling Loop）**之前**执行。

### 2.2 继电器控制
- **目标设备**：
  - 柜体端 (`cabinet`)
  - 控制端 (`control`)
- **执行动作**：发送指令同时**断开（关闭）**所有 8 路继电器通道。
- **协议指令**：使用现有的 `RelayCommandBuilder.open('all')`，该方法会根据 ETH 协议 V42 生成 `dooff99` 指令。

### 2.3 异常处理
- **策略**：非阻塞式（软失败）。
- **行为**：
  - 如果重置指令因任何原因（超时、网络错误等）失败，应用程序**严禁**崩溃或中止启动。
  - 必须使用 `error` 或 `warn` 级别将错误记录到系统日志中。
  - 无论指令是否成功发送，启动序列都应继续进入主查询循环。

## 3. 非功能需求
- **性能**：初始化指令不应显著延迟应用程序的启动时间。
- **可观察性**：
  - 在尝试重置继电器时记录 `info` 级别的日志。
  - 记录重置操作的结果（成功或失败）。

## 验收标准 (Acceptance Criteria)
- [ ] 应用程序在启动时向 `cabinet` 客户端发送 `dooff99` 指令。
- [ ] 应用程序在启动时向 `control` 客户端发送 `dooff99` 指令。
- [ ] 如果指令发送成功，日志中应有确认记录。
- [ ] 如果指令发送失败（通过模拟测试），程序需记录错误并继续进入查询循环。
- [ ] 该功能在 `BusinessLogicManager` 中实现。
